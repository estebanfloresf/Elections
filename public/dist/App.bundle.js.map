{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./public/javascripts/my-js.js","webpack:///./public/javascripts/modules/orderBy.js","webpack:///./public/javascripts/modules/sortTable.js","webpack:///./public/javascripts/candidates/candidateMap.js","webpack:///./public/javascripts/modules/inline_svg.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","$","document","ready","_inline_svg2","default","first","addClass","$grid","isotope","itemSelector","sortAscending","percentage","getSortData","sortBy","click","removeClass","this","sortValue","attr","getCellValue","row","index","children","eq","text","table","parents","rows","find","toArray","sort","a","b","valA","valB","isNumeric","localeCompare","comparer","asc","reverse","length","append","mapContainer","getElementById","map","Raphael","style","fill","stroke","stroke-width","stroke-linejoin","cursor","hoverStyle","fetch","method","headers","Headers","Content-Type","then","response","json","data","mapProvinces","provinces","province","path","setViewBox","canvas","setAttribute","mouseover","animate","body","JSON","stringify","String","getAttribute","console","log","flag","html","results","id","candidate","slice","content","parseInt","total","catch","error","message","siblings","mouseleave","e","jQuery","each","$img","imgID","imgClass","imgURL","$svg","removeAttr","replaceWith"],"mappings":"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","file":"App.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","// import {\n//     $,\n//     $$\n// } from './modules/bling';\nimport '../sass/style.scss';\nimport './modules/orderBy';\nimport './modules/sortTable';\n// import './modules/raphael.min';\nimport './candidates/candidateMap';\nimport inlinesvg from './modules/inline_svg';\n\n$(document).ready(function () {\n    inlinesvg($('img.svg'));\n\n});","$(\"#percentage\").first().addClass(\"active\");\n\n// Isotope https://isotope.metafizzy.co/sorting.html\nvar $grid = $('#grid').isotope({\n    itemSelector: '.item',\n    sortAscending: {\n        name: true,\n\n        percentage: false\n    },\n    getSortData: {\n        name: '[name]',\n        percentage: '[percentage]'\n    },\n    // sort by percentage then name\n    sortBy: ['percentage', 'name']\n});\n\n\n\n// This function is for sorting the candidates \n$(\".btn.sort\").click(function () {\n\n    $(\".btn.sort\").removeClass(\"active\");\n    $(this).addClass(\"active\");\n\n    var sortValue = $(this).attr('data-sort-value');\n\n\n\n    $grid.isotope({\n        sortBy: sortValue\n    });\n\n});","//\n// I came across this, and thought I'd throw in my 2 cents. Click on the column headers to sort ascending, and again to sort descending.\n//\n// Works in Chrome, Firefox, Opera AND IE(8)\n// Only uses JQuery\n// Does alpha and numeric sorting - ascending and descending\n\n\n\n\n$('th').click(function () {\n    var table = $(this).parents('table').eq(0);\n\n    var rows = table.find('tr:gt(0)').toArray().sort(comparer($(this).index()));\n    this.asc = !this.asc;\n    if (this.asc) {\n        rows = rows.reverse()\n    }\n    for (var i = 0; i < rows.length; i++) {\n        table.append(rows[i])\n    }\n});\n\nfunction comparer(index) {\n    return function (a, b) {\n        var valA = getCellValue(a, index),\n            valB = getCellValue(b, index)\n        return $.isNumeric(valA) && $.isNumeric(valB) ? valA - valB : valA.localeCompare(valB)\n    }\n}\n\nfunction getCellValue(row, index) {\n    return $(row).children('td').eq(index).text()\n}","var map_width = 500;\nvar map_height = 500;\n\nvar mapContainer = document.getElementById('map');\nvar map = new Raphael(mapContainer, map_width, map_height);\n\nvar style = {\n\tfill: '#D2D5DD',\n\tstroke: '#798071',\n\t'stroke-width': 2,\n\t'stroke-linejoin': 'round',\n\tcursor: 'pointer'\n};\nvar animationSpeed = 300;\nvar hoverStyle = {\n\tfill: '#3581b8'\n};\n\n\n// Here I fetch from the server express the data of provinces and then the candidates one\nfetch('/api/map', {\n\t\tmethod: 'GET',\n\n\t\theaders: new Headers({\n\t\t\t'Content-Type': 'application/json'\n\t\t})\n\t})\n\t.then((response) => response.json())\n\t.then((data) => {\n\t\tvar mapProvinces = [];\n\t\tconst {\n\t\t\tprovinces\n\t\t} = data;\n\n\t\tmapProvinces = provinces.map((province) => {\n\t\t\tprovince.path = map.path(province.path);\n\t\t\tprovince.path.attr(style).attr('class', province.name);\n\t\t\treturn province\n\t\t})\n\n\n\t\tmap.setViewBox(0, 5, 1800, 1800);\n\t\t// Setting preserveAspectRatio to 'none' lets you stretch the SVG\n\t\tmap.canvas.setAttribute('preserveAspectRatio', 'none');\n\n\t\t// Here we map trhought each province and add the mouse functionalies for each province\n\t\tmapProvinces.map((province) => {\n\t\t\tconst path = province.path\n\n\t\t\t$(path[0]).mouseover(function () {\n\t\t\t\tpath.animate(hoverStyle, animationSpeed);\n\t\t\t});\n\n\t\t\t$(path[0]).click(function () {\n\n\t\t\t\t// On click of any province we perform the fetch of the data regarding that province\n\t\t\t\tfetch('/provinceInfo', {\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\tprovince: String(this.getAttribute('class'))\n\t\t\t\t\t\t}), // stringify JSON\n\t\t\t\t\t\theaders: new Headers({\n\t\t\t\t\t\t\t'Content-Type': 'application/json'\n\t\t\t\t\t\t}) // add headers\n\t\t\t\t\t})\n\t\t\t\t\t.then((response) => response.json())\n\t\t\t\t\t.then((data) => {\n\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\t// On click I add the image and the name of the province\n\t\t\t\t\t\t$('#provimg').attr('src', data.province.flag);\n\t\t\t\t\t\t$('#provname').html(data.province.name);\n\n\t\t\t\t\t\t// Here I build the table to display\n\t\t\t\t\t\tdata.results.map((province) => {\n\n\t\t\t\t\t\t\tvar id = String(province.candidate).slice(-5);\n\n\t\t\t\t\t\t\tif (province.candidate.name !== 'blancos' && province.candidate.name !== 'nulos') {\n\n\t\t\t\t\t\t\t\tvar content = '<tr>';\n\t\t\t\t\t\t\t\tcontent += `<td id='${id}-total'>${parseInt(province.total,0)}</td>`;\n\t\t\t\t\t\t\t\tcontent += '</tr>';\n\n\n\t\t\t\t\t\t\t\t$('#table_results tbody').append(content);\n\t\t\t\t\t\t\t\t// td.text-capitalize.text-center(id=`${id}`)&attributes({'data-th': 'Candidate'})  #{candidate.president}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// $('#' + id + '-total').html(parseInt(province.total, 0));\n\t\t\t\t\t\t\t// $('#' + id + '-men').html(province.totalmen);\n\t\t\t\t\t\t\t// $('#' + id + '-women').html(province.totalwomen);\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function (error) {\n\t\t\t\t\t\tconsole.log('There has been a problem with your fetch operation: ' + error.message);\n\t\t\t\t\t});\n\t\t\t\t$(this).addClass('province_active').siblings().removeClass('province_active');\n\t\t\t});\n\n\t\t\t$(path[0]).mouseleave(function () {\n\t\t\t\tpath.animate(style, animationSpeed);\n\t\t\t});\n\n\t\t})\n\t})\n\t.catch(function (error) {\n\t\tconsole.log('There has been a problem with your fetch operation: ' + error.message);\n\n\t});","/**\n * Created by esteban on 15/7/17.\n */\n\n\n\nfunction inlinesvg(e) {\n\n\n    jQuery(e).each(function () {\n\n        const $img = jQuery(this);\n\n        const imgID = $img.attr('id');\n        const imgClass = $img.attr('class');\n        const imgURL = $img.attr('src');\n\n        jQuery.get(imgURL, function (data) {\n            // Get the SVG tag, ignore the rest\n            let $svg = jQuery(data).find('svg');\n\n            // Add replaced image's ID to the new SVG\n            if (typeof imgID !== 'undefined') {\n                $svg = $svg.attr('id', imgID);\n            }\n            // Add replaced image's classes to the new SVG\n\n\n            if (typeof imgClass !== 'undefined') {\n                $svg = $svg.attr('class', imgClass);\n            }\n\n            // Remove any invalid XML tags as per http://validator.w3.org\n            $svg = $svg.removeAttr('xmlns:a');\n\n            // Check if the viewport is set, if the viewport is not set the SVG wont't scale.\n            if (!$svg.attr('viewBox') && $svg.attr('height') && $svg.attr('width')) {\n                $svg.attr('viewBox', '0 0 ' + $svg.attr('height') + ' ' + $svg.attr('width'))\n            }\n\n\n\n\n            // Replace image with new SVG\n            $img.replaceWith($svg);\n\n\n\n        }, 'xml');\n\n    });\n\n}\n\nexport default inlinesvg;"],"sourceRoot":""}