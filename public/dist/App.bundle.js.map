{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./public/javascripts/my-js.js","webpack:///./public/javascripts/modules/orderBy.js","webpack:///./public/javascripts/modules/sortTable.js","webpack:///./public/javascripts/candidates/candidateMap.js","webpack:///./public/javascripts/modules/inline_svg.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","$","document","ready","_inline_svg2","default","first","addClass","$grid","isotope","itemSelector","sortAscending","percentage","getSortData","sortBy","click","removeClass","this","sortValue","attr","getCellValue","row","index","children","eq","text","table","parents","rows","find","toArray","sort","a","b","valA","valB","isNumeric","localeCompare","comparer","asc","reverse","length","append","mapContainer","getElementById","map","Raphael","style","fill","stroke","stroke-width","stroke-linejoin","cursor","hoverStyle","fetch","method","headers","Headers","Content-Type","then","response","json","data","mapProvinces","provinces","province","path","setViewBox","canvas","setAttribute","mouseover","animate","remove","body","JSON","stringify","String","getAttribute","flag","html","content","results","id","candidate","slice","candidates","filter","_id","president","parseInt","total","totalmen","totalwomen","catch","error","console","log","message","siblings","mouseleave","e","jQuery","each","$img","imgID","imgClass","imgURL","$svg","removeAttr","replaceWith"],"mappings":"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","file":"App.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","// import {\n//     $,\n//     $$\n// } from './modules/bling';\nimport '../sass/style.scss';\nimport './modules/orderBy';\nimport './modules/sortTable';\n// import './modules/raphael.min';\nimport './candidates/candidateMap';\nimport inlinesvg from './modules/inline_svg';\n\n$(document).ready(function () {\n    inlinesvg($('img.svg'));\n\n});","$(\"#percentage\").first().addClass(\"active\");\n\n// Isotope https://isotope.metafizzy.co/sorting.html\nvar $grid = $('#grid').isotope({\n    itemSelector: '.item',\n    sortAscending: {\n        name: true,\n\n        percentage: false\n    },\n    getSortData: {\n        name: '[name]',\n        percentage: '[percentage]'\n    },\n    // sort by percentage then name\n    sortBy: ['percentage', 'name']\n});\n\n\n\n// This function is for sorting the candidates \n$(\".btn.sort\").click(function () {\n\n    $(\".btn.sort\").removeClass(\"active\");\n    $(this).addClass(\"active\");\n\n    var sortValue = $(this).attr('data-sort-value');\n\n\n\n    $grid.isotope({\n        sortBy: sortValue\n    });\n\n});","//\n// I came across this, and thought I'd throw in my 2 cents. Click on the column headers to sort ascending, and again to sort descending.\n//\n// Works in Chrome, Firefox, Opera AND IE(8)\n// Only uses JQuery\n// Does alpha and numeric sorting - ascending and descending\n\n\n\n\n$('th').click(function () {\n    var table = $(this).parents('table').eq(0);\n\n    var rows = table.find('tr:gt(0)').toArray().sort(comparer($(this).index()));\n    this.asc = !this.asc;\n    if (this.asc) {\n        rows = rows.reverse()\n    }\n    for (var i = 0; i < rows.length; i++) {\n        table.append(rows[i])\n    }\n});\n\nfunction comparer(index) {\n    return function (a, b) {\n        var valA = getCellValue(a, index),\n            valB = getCellValue(b, index)\n        return $.isNumeric(valA) && $.isNumeric(valB) ? valA - valB : valA.localeCompare(valB)\n    }\n}\n\nfunction getCellValue(row, index) {\n    return $(row).children('td').eq(index).text()\n}","var map_width = 500;\nvar map_height = 500;\n\nvar mapContainer = document.getElementById('map');\nvar map = new Raphael(mapContainer, map_width, map_height);\n\nvar style = {\n  fill: '#D2D5DD',\n  stroke: '#798071',\n  'stroke-width': 2,\n  'stroke-linejoin': 'round',\n  cursor: 'pointer'\n};\nvar animationSpeed = 300;\nvar hoverStyle = {\n  fill: '#3581b8'\n};\n\n\n// Here I fetch from the server express the data of provinces and then the candidates one\nfetch('/api/map', {\n    method: 'GET',\n\n    headers: new Headers({\n      'Content-Type': 'application/json'\n    })\n  })\n  .then((response) => response.json())\n  .then((data) => {\n    var mapProvinces = [];\n    const {\n      provinces\n    } = data;\n\n    mapProvinces = provinces.map((province) => {\n      province.path = map.path(province.path);\n      province.path.attr(style).attr('class', province.name);\n      return province\n    })\n\n\n    map.setViewBox(0, 5, 1800, 1800);\n    // Setting preserveAspectRatio to 'none' lets you stretch the SVG\n    map.canvas.setAttribute('preserveAspectRatio', 'none');\n\n    // Here we map trhought each province and add the mouse functionalies for each province\n    mapProvinces.map((province) => {\n      const path = province.path\n\n      $(path[0]).mouseover(function () {\n        path.animate(hoverStyle, animationSpeed);\n      });\n\n      $(path[0]).click(function () {\n        $('#noprov').remove();\n        // On click of any province we perform the fetch of the data regarding that province\n        fetch('/provinceInfo', {\n            method: 'POST',\n            body: JSON.stringify({\n              province: String(this.getAttribute('class'))\n            }), // stringify JSON\n            headers: new Headers({\n              'Content-Type': 'application/json'\n            }) // add headers\n          })\n          .then((response) => response.json())\n          .then((data) => {\n\n            // On click I add the image and the name of the province\n            $('#provimg').attr('src', data.province.flag);\n            $('#provname').html(data.province.name);\n            var content = '<tr>';\n            // Here I build the table to display\n            data.results.map((province) => {\n\n              var id = String(province.candidate).slice(-5);\n\n              const candidate = data.candidates.filter((candidate) => candidate._id === province.candidate ? candidate.president : '');\n\n              content += `<td class='text-capitalize text-center' data-th='Candidate' id='${id}'>${candidate[0].president}</td>`;\n              content += `<td id='${id}-total' data-th='Total' >${parseInt(province.total,0)}</td>`;\n              content += `<td id='${id}-total' data-th='Men'>${parseInt(province.totalmen,0)}</td>`;\n              content += `<td id='${id}-total' data-th='Women'>${parseInt(province.totalwomen,0)}</td>`;\n              content += '</tr>';\n\n            });\n\n            $('#table_results tbody').html(content);\n          })\n          .catch(function (error) {\n            console.log('There has been a problem with your fetch operation: ' + error.message);\n          });\n        $(this).addClass('province_active').siblings().removeClass('province_active');\n      });\n\n      $(path[0]).mouseleave(function () {\n        path.animate(style, animationSpeed);\n      });\n\n    })\n  })\n  .catch(function (error) {\n    console.log('There has been a problem with your fetch operation: ' + error.message);\n\n  });","/**\n * Created by esteban on 15/7/17.\n */\n\n\n\nfunction inlinesvg(e) {\n\n\n    jQuery(e).each(function () {\n\n        const $img = jQuery(this);\n\n        const imgID = $img.attr('id');\n        const imgClass = $img.attr('class');\n        const imgURL = $img.attr('src');\n\n        jQuery.get(imgURL, function (data) {\n            // Get the SVG tag, ignore the rest\n            let $svg = jQuery(data).find('svg');\n\n            // Add replaced image's ID to the new SVG\n            if (typeof imgID !== 'undefined') {\n                $svg = $svg.attr('id', imgID);\n            }\n            // Add replaced image's classes to the new SVG\n\n\n            if (typeof imgClass !== 'undefined') {\n                $svg = $svg.attr('class', imgClass);\n            }\n\n            // Remove any invalid XML tags as per http://validator.w3.org\n            $svg = $svg.removeAttr('xmlns:a');\n\n            // Check if the viewport is set, if the viewport is not set the SVG wont't scale.\n            if (!$svg.attr('viewBox') && $svg.attr('height') && $svg.attr('width')) {\n                $svg.attr('viewBox', '0 0 ' + $svg.attr('height') + ' ' + $svg.attr('width'))\n            }\n\n\n\n\n            // Replace image with new SVG\n            $img.replaceWith($svg);\n\n\n\n        }, 'xml');\n\n    });\n\n}\n\nexport default inlinesvg;"],"sourceRoot":""}