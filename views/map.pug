extends layout


block content


    .page-header
        h1= 'Votes per Province'

    .col-md-12

        .col-md-6.text-center
            .row
                small Select a province to see the results

            .row
                div(id=`map`)
        .col-md-6.justify-content-center
            .row.province.text-center


                img.svg(id="provimg" src=`../images/icons/defaultprov.svg` style="width:60px; height:40px; border: 1px solid #000")
                h4.text-capitalize(id="provname") Ecuador


            table.rwd-table
                thead
                    tr

                        th Candidate
                            i.fas.fa-sort.fa-fw
                        th Total
                            i.fas.fa-sort.fa-fw
                        th Men
                            i.fas.fa-sort.fa-fw
                        th Women
                            i.fas.fa-sort.fa-fw

                tbody
                    each candidate in candidates
                        - var id = String(candidate._id).slice(-5);
                        unless candidate.president === 'nulos' || candidate.president === 'blancos'
                            tr
                                td.text-capitalize.text-center(id=`${id}`)&attributes({'data-th': 'Candidate'})  #{candidate.president}
                                td(id=`${id}-total`)&attributes({'data-th': 'Total'})  0
                                td(id=`${id}-men`)&attributes({'data-th': 'Men'})  0
                                td(id=`${id}-women`)&attributes({'data-th': 'Women'})  0




        script(type='text/javascript').
            var provinces = !{JSON.stringify(provinces)};

        script(src="/javascripts/modules/raphael.min.js")
        script(src="/javascripts/candidates/candidateMap.js")



